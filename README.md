# Проект: HR-аналитика (удовлетворённость и увольнение сотрудников)

## Цель проекта
Компания «Работа с заботой» стремится внедрить современные инструменты HR-аналитики, чтобы повысить удержание персонала и снизить риски потери ценных сотрудников.  

Были решены две ключевые задачи:
1. **Прогноз уровня удовлетворённости сотрудника** (`job_satisfaction_rate`) — задача регрессии.
2. **Прогноз факта увольнения** (`quit`) — задача классификации, использующая в том числе предсказанную удовлетворённость.

---

## Этапы работы

### 1. Предобработка данных
- Очистка от пропусков и скрытых ошибок (значения-пробелы).
- Удаление выбросов в признаке `salary` только в обучающей выборке.
- Обеспечение единообразия категориальных признаков и удаление дубликатов.

### 2. Исследовательский анализ (EDA)
- Визуализация распределений (boxplot, countplot, KDE).
- Формирование портрета уволившихся сотрудников.
- Выявление зависимостей — сотрудники с низкой удовлетворённостью чаще увольняются.

### 3. Корреляционный анализ
- Использована библиотека **Phik** для оценки связей между признаками.
- Проверена мультиколлинеарность через **VIF** — удаление признаков не потребовалось.

### 4. Построение пайплайнов и обучение моделей
- Пайплайны на основе `Pipeline` и `ColumnTransformer`.
- Для `OrdinalEncoder` задан порядок категорий (важно для линейных моделей).
- Подбор гиперпараметров через `RandomizedSearchCV` с кросс-валидацией.

### 5. Интеграция задач
- Предсказанная `job_satisfaction_rate` добавлена как признак во вторую задачу.
- Проверена её значимость: стала самым важным признаком (≈ 0.23).

---

## Результаты

### Задача 1: Прогноз удовлетворённости
- Лучшая модель: **GradientBoostingRegressor**  
- Метрика SMAPE на тестовой выборке: **10.91** (целевое ≤ 15)  
- Преимущества: устойчивость к выбросам, захват сложных зависимостей, отсутствие необходимости в масштабировании.

### Задача 2: Прогноз увольнения
- Лучшая модель: **RandomForestClassifier (max_depth=8)**  
- Метрика ROC-AUC на тестовой выборке: **0.9283** (baseline: 0.5)  
- Ключевой фактор успеха:
  - интеграция `job_satisfaction_rate`,
  - учёт дисбаланса классов,
  - использование ансамблевых моделей.

### Анализ ошибок
- TP = 470 — верно предсказанные увольнения (вовремя замеченные риски).  
- TN = 1343 — верно предсказанные оставшиеся сотрудники (избежание лишних расходов).  
- FP = 93 — ложные срабатывания (избыточные меры удержания).  
- FN = 94 — пропущенные увольнения (зона для улучшения).  

**Вывод:** критично снижать FN, чтобы минимизировать потерю сотрудников.

---

## Бизнес-интерпретация
- **TP / TN** = экономия и своевременное реагирование.  
- **FP / FN** = лишние расходы или упущенная прибыль.  
- Важнейшая рекомендация: регулярный мониторинг удовлетворённости и профилактика увольнений в уязвимых группах.

### Уязвимые сотрудники:
- с низкой удовлетворённостью,  
- уровня junior,  
- с низкой оценкой руководителя,  
- без карьерного продвижения,  
- из отделов sales и technology,  
- с небольшим стажем и низкой зарплатой.  

**Рекомендация:** внедрять персонализированные меры удержания (карьерное развитие, премии, менторство, обратная связь).

---

## Используемые библиотеки
- pandas, numpy, matplotlib, seaborn  
- scikit-learn (Pipeline, GridSearchCV, RandomForest, GradientBoosting и др.)  
- phik (корреляционный анализ)  

---

## Ссылка на проект
[Репозиторий на GitHub](https://github.com/ArthurZava/HR-analytics)
